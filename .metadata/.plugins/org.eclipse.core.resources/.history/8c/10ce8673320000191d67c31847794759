package com.ejb.dao;

import java.util.Date;
import java.util.List;

import javax.ejb.EJB;
import javax.ejb.LocalBean;
import javax.ejb.Stateless;

import org.apache.log4j.Logger;

import com.book.response.ScheduleResponse;
import com.ejb.persistence.PersistenceService;
import com.entity.Schedule;
import com.entity.Team;

/**
 * Session Bean implementation class ScheduleDAO
 */
@Stateless(mappedName = "ScheduleDAO")
@LocalBean
public class ScheduleDAO implements ScheduleDAOLocal {

	@EJB(name = "PersistenceUnit")
	private PersistenceService persistenceService;

	private static final Logger log = Logger.getLogger(ScheduleDAO.class);
	/**
	 * Default constructor.
	 */
	public ScheduleDAO() {

	}

	@Override
	public ScheduleResponse findScheduleById(Long id) {
		Schedule schedule = null;
		try {
			if(id == null) {
				log.error("ID cannot be null");
				throw new RuntimeException("ID cannot be null");
			}
			schedule = persistenceService.find(Schedule.class, id);
		}catch(Exception e) {
			log.error(e);
		}
		log.debug(schedule.toString());
		
		return new ScheduleResponse.ScheduleResponseBuilder().buildFromSchedule(schedule);

	}


	@Override
	public List<ScheduleResponse> findScheduleByDate(Date date) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<ScheduleResponse> findScheduleByTime(Date time) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<ScheduleResponse> findScheduleByDateAndTime(Date date, Date time) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<ScheduleResponse> findScheduleByHomeTeam(Team homeTeam) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<ScheduleResponse> findScheduleByAwayTeam(Team awayTeam) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<ScheduleResponse> findScheduleByMatchUp(Team teamOne, Team teamTwo) {
		// TODO Auto-generated method stub
		return null;
	}

}
